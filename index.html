<html>
    <head>
        <title> Pomodoro technique </title>
    </head>

<body>

<form>
    Pomodoro: <input id="pomodoro" type="text" value="3"> <br>
    Break: <input id="breaktime" type="text" value="1"> <br>

    <input id="time_display" type="text">
</form>

<button type="submit" id="set_pomodoro">Set pomodoro time</button>
<button type="submit" id="set_breaktime">Set break time</button>

<button type="submit" id="start">Start</button>
<button type="submit" id="stop">Stop</button>
<button type="submit" id="reset">Reset</button>

<script>
  let display = document.getElementById('time_display');
  let start = document.getElementById('start');

  var pomodoro = 3;
  var breaktime = 1;
  var isPomodoro = false;
  var pomodoro_ctr = pomodoro;
  var breaktime_ctr = breaktime;

  let set_pomodoro = document.getElementById('set_pomodoro');
  set_pomodoro.addEventListener('click', function(e){
    let pomodoro_input = document.getElementById('pomodoro');
    pomodoro = pomodoro_input.value;
    pomodoro_ctr = pomodoro_input.value;
  });

  let set_breaktime = document.getElementById('set_breaktime');
  set_breaktime.addEventListener('click', function(e){

    let breaktime_input = document.getElementById('breaktime');
    breaktime = breaktime_input.value;
    breaktime_ctr = breaktime_input.value;
  });

  var timerInterval;

  start.addEventListener('click', function(e){
    //display.text("Time");
    //display.setAttribute("text","Time");

    isPomodoro = true;

    timerInterval = setInterval(myTimer, 1000);
  });

  let stop = document.getElementById('stop');
  stop.addEventListener('click', function(e){
    clearInterval(timerInterval);
  });

  let reset = document.getElementById('reset');
  reset.addEventListener('click', function(e){
    display.value = "reset";
  });

  function myTimer() {

    if (isPomodoro) {
          pomodoro_ctr --;
          display.value = pomodoro_ctr;
          if (pomodoro_ctr <= 0){
            isPomodoro = false;
            pomodoro_ctr = pomodoro;
          }
    }
    else {
          breaktime_ctr --;
          display.value = breaktime_ctr;
          if (breaktime_ctr <= 0){
            isPomodoro = false;
            breaktime_ctr = breaktime;
          }
    }
  }

</script>

</body>
</html>